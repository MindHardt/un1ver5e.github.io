---
import MainLayout from '@/layouts/MainLayout.astro';
import Heading from "@/components/Heading.astro";
import BackHome from "@/components/BackHome.astro";
import Card from "@/components/Card.astro";
import {techList, type TechStack, techStacks} from "@/assets/techs/_list.ts";
import type {GetStaticPaths} from "astro";

export const getStaticPaths : GetStaticPaths = () => techStacks.map(stack => (
    { params: { stack }}
));
const { stack } = Astro.params as { stack: TechStack };

const texts : Record<TechStack, { title: string; description: string }> = {
    backend: {
        title: 'Бекенд',
        description: `
            Самый большой опыт у меня в бекенде - с 2020 года.
            Основа моего стека - ASP.Net Core
            и стандартные библиотеки для этого фреймворка:
            EFCore, Serilog, Microsoft OpenApi, AWS S3, StackExchange Redis.
        `
    },
    frontend: {
        title: 'Фронтенд',
        description: `
            В том или ином виде фронтендом я занимаюсь с 2022 года, 
            когда я сделал свой первый сайт на чистом js.
            С тех пор я изучаю новые технологии и подходы, стараюсь идти
            в ногу со временем.
        `
    },
    devops: {
        title: 'DevOps',
        description: `
            Я начал изучать DevOps и системное администрирование
            примерно в 2021 году, когда купил себе Raspberry PI 4
            в качестве домашнего сервера. Сейчас я администрирую несколько
            серверов разных компаний, которые работают 24/7 и приносят прибыль
        `
    }
}
---
<MainLayout>
    <BackHome />
    <Heading level={1}>{texts[stack].title}</Heading>
    <p class="whitespace-pre-line">{texts[stack].description}</p>
    <Heading level={2}>Технологии</Heading>
    <div class="grid gap-2 grid-cols-2 md:grid-cols-3">
        {techList[stack].map(x => <Card image={x.image} name={x.name} link={x.link} newTab />)}
    </div>
</MainLayout>