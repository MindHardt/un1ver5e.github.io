---
import type {GetStaticPathsResult} from "astro";
import {getCollection, getEntry, render} from "astro:content";
import Image from 'astro/components/Image.astro';
import MainLayout from "@/layouts/MainLayout.astro";
import { ExternalLink } from "@lucide/astro";
import BackHome from "@/components/BackHome.astro";
export const getStaticPaths = async () : Promise<GetStaticPathsResult> => {
    return (await getCollection('techs')).map(x => ({ params: { tech: x.id }}))
}
const { tech } = Astro.params as { tech: string };
const entry = await getEntry('techs', tech)!;
const { Content } = await render(entry);

---

<MainLayout>
    <article class="flex flex-col gap-2 items-center">
        <BackHome />
        <h1 class="font-extrabold text-2xl">{entry.data.name}</h1>
        <Content />
        <a class="flex flex-row gap-1 items-center text-blue-500 hover:text-blue-700 hover:border-b-blue-700"
           href={entry.data.about}
           target="_blank"
           rel="noopener noreferrer">
            <ExternalLink />
            Узнать больше
        </a>
        <Image src={entry.data.image} alt='' width={512} height={512} class="elevated rounded size-full" />
    </article>
</MainLayout>
